<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>poolScore</title>

    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/libs/require-2.2.0.js') }}"></script>

    <script>
        requirejs(["{{ url_for('static', filename='js/init.js') }}"], function (init) {
            {% block require_main %}{% endblock %}
        });
    </script>

</head>
<body class="{{ body_class }}">
    <header>
        <nav class="navbar">
            <div class="container">
                <div class="nav-header">
                    <a class="navbar-brand logo" href="/">PoolScore</a>
                </div>
                    {% if session.logged_in %}
                    <a class="pull-right nav-link" href="{{ url_for('auth.logout') }}" title="Log out"><span class="glyphicon glyphicon-off"></span></a>
                    <div class="dropdown pull-right">
                        <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-cog"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="/team" title="Teams">Teams</a></li>
                            <li><a href="/team/player" title="Players">Players</a></li>
                            <li><a href="/user" title="Account">Account</a></li>
                            {% if is_admin %}
                            <li><a href="/admin" title="Admin">Admin</a></li>
                            {% endif %}
                        </ul>
                    </div>
                    <p class="navbar-text pull-right">Welcome, {{ session.user_name }}</p>
                    {% endif %}
            </div>
        </nav>
    </header>
    <div id="main" class="container main">

        {% for message in get_flashed_messages() %}
        <div class="flash-message"> {{ message }}</div>
        {% endfor %}

        {% block body %}{% endblock %}

    </div>

    <script type="text/html" id="alert_template">
        <div data-bind="css: css" role="alert">
            <button type="button" class="close" data-bind="click: cancel" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <div class="text-center" data-bind="html: content">sdsdf</div>
        </div>
    </script>
    <div id="alerts" data-bind="template: alertTemplateOptions"></div>

    <div id="loading" data-bind="visible:isLoading" style="display:none;">
        <div data-bind="html:content">Loading&hellip;</div>
    </div>


        {% block script %}{% endblock %}

</body>
</html>