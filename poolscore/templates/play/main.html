{% extends "master.html" %}

<!--

 * Register components for tourney, match & game views
 * https://vimeo.com/97519516
 * routing?

-->


{% block require_main %}
require(['knockout',
         'pages/main',
         'domReady!'],
    function(ko, mainViewModel) {

        var mainVM = new mainViewModel({
            tourney_id: "{{ tourney_id }}"
        });

        ko.applyBindings(
            mainVM,
            document.getElementById('header')
        );

        ko.applyBindings(
            mainVM,
            document.getElementById('main')
        );

    }
);

{% endblock %}


{% block body %}

    <div data-bind="component: mainComponent">fucked</div>

{% endblock %}
